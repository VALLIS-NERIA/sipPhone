<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SipX TAPI-like API for Call Processing: SipXEventDispatcher Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>SipXEventDispatcher Class Reference</h1><!-- doxytag: class="SipXEventDispatcher" --><code>#include &lt;<a class="el" href="_sip_x_event_dispatcher_8h-source.html">SipXEventDispatcher.h</a>&gt;</code>
<p>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The <a class="el" href="class_sip_x_event_dispatcher.html">SipXEventDispatcher</a> adds a listener to sipXtapi and then redispatches all of the sipXtapi events on its own callback. 
<p>
Ideally, this should be part of sipXtapi -- however, I don't want to change the behavior at this time. Also, solutions for the TODOs below are needed.<p>
TODO:<p>
<ul>
<li>The S/MIME (and TLS?) code expects a return value. This should be broken into a new/different callback. Right now, that functionality is lost and I believe we will accept all certificates (return true at end of SipXEventDispatcher::EventCallBack.</li></ul>
<p>
<ul>
<li>Some synchronization is required on the CALL_DESTROY (perhaps other final events). Right now, the call could be removed from sipXtapi's internal bookkeeping structures before the application has the ability to handle the event. I believe we should have some sort of "ACK" to the call final events (perhaps after it is dispatched from here) and the call should not be freed up in sipXtapi until after that ACK. Today, the call handle is freed in the fire***Event method in sipXtapiEvents.cpp. </li></ul>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0f662e25775c4c5815cbb0a46d32c907"></a><!-- doxytag: member="SipXEventDispatcher::SipXEventDispatcher" ref="0f662e25775c4c5815cbb0a46d32c907" args="(SIPX_INST hInst)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>SipXEventDispatcher</b> (<a class="el" href="sip_xtapi_8h.html#338b507421c789dda3c552458230161c">SIPX_INST</a> hInst)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UtlBoolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sip_x_event_dispatcher.html#2272cd0410dbf01eaa858c074656c04e">handleMessage</a> (OsMsg &amp;rMsg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of OsServerTask's pure virtual method.  <a href="#2272cd0410dbf01eaa858c074656c04e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2c91cbfd4f9e755d73ab1533312fcfa3"></a><!-- doxytag: member="SipXEventDispatcher::addListener" ref="2c91cbfd4f9e755d73ab1533312fcfa3" args="(SIPX_EVENT_CALLBACK_PROC pCallbackProc, void *pUserData)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>addListener</b> (<a class="el" href="sip_xtapi_events_8h.html#774711345365e5b043e029e43551a320">SIPX_EVENT_CALLBACK_PROC</a> pCallbackProc, void *pUserData)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7b7a9fc3ffd01826935e3a3fcd370236"></a><!-- doxytag: member="SipXEventDispatcher::removeListener" ref="7b7a9fc3ffd01826935e3a3fcd370236" args="(SIPX_EVENT_CALLBACK_PROC pCallbackProc, void *pUserData)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>removeListener</b> (<a class="el" href="sip_xtapi_events_8h.html#774711345365e5b043e029e43551a320">SIPX_EVENT_CALLBACK_PROC</a> pCallbackProc, void *pUserData)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5d2dc97cc5437fe2a2e08275364f1e54"></a><!-- doxytag: member="SipXEventDispatcher::removeAllListeners" ref="5d2dc97cc5437fe2a2e08275364f1e54" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>removeAllListeners</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8a277a88c6ab8de40409f03c0c926069"></a><!-- doxytag: member="SipXEventDispatcher::serviceListeners" ref="8a277a88c6ab8de40409f03c0c926069" args="(SIPX_EVENT_CATEGORY category, void *pInfo)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>serviceListeners</b> (<a class="el" href="sip_xtapi_events_8h.html#9af24b60ca3d9db0ddb0bd9b7ae6f980">SIPX_EVENT_CATEGORY</a> category, void *pInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="75b839ca4a314b1b330744c384f4826b"></a><!-- doxytag: member="SipXEventDispatcher::setInstanceHandle" ref="75b839ca4a314b1b330744c384f4826b" args="(SIPX_INST hNew)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>setInstanceHandle</b> (<a class="el" href="sip_xtapi_8h.html#338b507421c789dda3c552458230161c">SIPX_INST</a> hNew)</td></tr>

<tr><td colspan="2"><br><h2>Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9e1f9d37813d6c0310bf4aa7f16a3a83"></a><!-- doxytag: member="SipXEventDispatcher::EventCallBack" ref="9e1f9d37813d6c0310bf4aa7f16a3a83" args="(SIPX_EVENT_CATEGORY category, void *pInfo, void *pUserData)" -->
static bool SIPX_CALLING_CONVENTION&nbsp;</td><td class="memItemRight" valign="bottom"><b>EventCallBack</b> (<a class="el" href="sip_xtapi_events_8h.html#9af24b60ca3d9db0ddb0bd9b7ae6f980">SIPX_EVENT_CATEGORY</a> category, void *pInfo, void *pUserData)</td></tr>

</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="2272cd0410dbf01eaa858c074656c04e"></a><!-- doxytag: member="SipXEventDispatcher::handleMessage" ref="2272cd0410dbf01eaa858c074656c04e" args="(OsMsg &amp;rMsg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">UtlBoolean SipXEventDispatcher::handleMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">OsMsg &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>rMsg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Implementation of OsServerTask's pure virtual method. 
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_sip_x_event_dispatcher_8h-source.html">SipXEventDispatcher.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sat Aug 5 11:25:35 2006 for SipX TAPI-like API for Call Processing by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
